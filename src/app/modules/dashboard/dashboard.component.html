<app-breadcrumb></app-breadcrumb>

<div class="grid">
  <div class="col-12_sm-12">
    <div class="grid">
      <div class="col-12_sm-12">
        <h3 class="custom-display-3">DATA <span class="text-gradient c-1">ANALITYS</span></h3>
        <div class="result">
          <h4 class="e-h2">Enable the button to get more users for analyze</h4>
          <section class="e-section">
            <mat-slide-toggle
              class="e-margin"
              [color]="color"
              [checked]="checkedB"
              [disabled]="disabled"
              (change)="onSlideToggle($event)"
            >
              Enable analyze
            </mat-slide-toggle>
            <mat-slide-toggle
              class="e-margin"
              [color]="color"
              [checked]="checkedA"
              [disabled]="disabled"
              (change)="globeSwitchSlideButton($event)"
            >
              Enable globe graphos
            </mat-slide-toggle>
          </section>
        </div>
        <div class="mt-1">
          <button
            mat-raised-button
            (click)="getGithubUserList()"
            class="demo-button"
            [disabled]="!analyzeButton"
          >
            Get users data
          </button>
          <button
            mat-raised-button
            (click)="createGlobeGrophos()"
            class="demo-button"
            [disabled]="!globeGraphosButton"
          >
            Create globe graphos
          </button>
          <button
            mat-raised-button
            aria-label=""
            class="demo-button"
            (click)="getUsersGithubStored()"
          >
            Update table
          </button>
        </div>
      </div>
      <div class="col-12_sm-12">
        <div class="grid">
          <div class="col-12 grid-right">
            <button
              mat-icon-button
              [matMenuTriggerFor]="appMenu"
              aria-label="Example icon-button with a menu"
            >
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #appMenu="matMenu" class="menu-theme">
              <button
                mat-menu-item
                color="primary"
                (click)="getLineChart('githubAccounts')"
              >
                <mat-icon>group</mat-icon>
                <span>Github Accounts</span>
              </button>
              <button
                mat-menu-item
                color="primary"
                (click)="getLineChart('totalFollowers')"
              >
                <mat-icon>group_add</mat-icon>
                <span>Total Followers</span>
              </button>
            </mat-menu>
          </div>
          <div class="col-6_sm-12">
            <app-bar-chart [barChartData]="barChartData"></app-bar-chart>
          </div>
          <div class="col-6_sm-12">
            <app-line-chart [lineChartData]="lineChartData"></app-line-chart>
          </div>
        </div>
      </div>
    </div>

    <div class="grid">
      <div class="col">
        <div class="grid">
          <div class="col-6">
            <div>
              <p style="margin-top: 5px; margin-bottom: 5px">
                Data table users accounts from github
              </p>
            </div>
          </div>
          <div class="col-12">
            <div class="example-container mat-elevation-z4">
              <div class="example-table-container">
                <table
                  mat-table
                  [dataSource]="usersDataSource"
                  matSort
                  matSortActive="created"
                  matSortDisableClear
                  matSortDirection="desc"
                >
                  <!-- Position Column -->
                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Name</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.name }}
                    </td>
                  </ng-container>

                  <!-- Name Column -->
                  <ng-container matColumnDef="type">
                    <th mat-header-cell *matHeaderCellDef>Type</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.type }}
                    </td>
                  </ng-container>

                  <!-- Name Column -->
                  <ng-container matColumnDef="company">
                    <th mat-header-cell *matHeaderCellDef>Company</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.company }}
                    </td>
                  </ng-container>

                  <!-- Name Column -->
                  <ng-container matColumnDef="location">
                    <th mat-header-cell *matHeaderCellDef>Location</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.location }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="country">
                    <th mat-header-cell *matHeaderCellDef>Country</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.country }}
                    </td>
                  </ng-container>

                  <!-- Weight Column -->
                  <ng-container matColumnDef="followers">
                    <th mat-header-cell *matHeaderCellDef>Followers</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.followers }}
                    </td>
                  </ng-container>

                  <!-- Symbol Column -->
                  <ng-container matColumnDef="public_gists">
                    <th mat-header-cell *matHeaderCellDef>Public gists</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.public_gists }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="public_repos">
                    <th mat-header-cell *matHeaderCellDef>Public repos</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.public_repos }}
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="columns"></tr>
                  <tr mat-row *matRowDef="let row; columns: columns"></tr>
                </table>
              </div>
              <mat-paginator
                (page)="handlePageEvent($event)"
                [length]="length"
                [pageSize]="pageSize"
                [disabled]="disabled"
                *ngIf="length > 0"
                [showFirstLastButtons]="showFirstLastButtons"
                [hidePageSize]="hidePageSize"
                [pageIndex]="pageIndex"
              >
              </mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
